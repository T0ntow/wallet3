<ion-header [translucent]="true">
  <ion-toolbar>
    <div>
      <ion-title>Transações</ion-title>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-segment value="despesas" class="segment" [(ngModel)]="segmentValue">
    <ion-segment-button value="despesas" class="segment-button">
      <ion-label class="label">Despesas</ion-label>
    </ion-segment-button>
    <ion-segment-button value="receitas" class="segment-button">
      <ion-label class="label">Receitas</ion-label>
    </ion-segment-button>
  </ion-segment>

  <app-month-navigation (monthChanged)="updateTransactionsByMonth($event)"></app-month-navigation>

  <main *ngIf="segmentValue === 'despesas'" class="transactions">
    <div class="resumo">
      <p>Gasto em {{ currentMonth.format('MMMM YYYY') }}: {{ calcularTotalDespesas() | currency }}</p>
      <p>Pendente: {{ calcularTotalPendentes() | currency }}</p>
    </div>
    <div class="despesas">
      <!-- <div *ngFor="let despesa of despesasFiltradas" class="despesa-item">
        <div class="despesa-info">
          <div class="esquerda">
            <fa-icon *ngIf="getIconByCategoryId(despesa.categoria_id) as icon" [icon]="icon" class="icon"></fa-icon>

            <div>
              <h4>{{ despesa.descricao }}</h4>
              <p class="banco" *ngIf="despesa.conta_id">{{ getAccountNameById(despesa.conta_id) }}</p>
            </div>
          </div>
          <div class="direita">
            <h5> {{ despesa.valor | currency }}</h5>
            <div class="details">
              <ion-icon *ngIf="despesa.cartao_id" class="cartao" name="card"></ion-icon>
              <ion-icon *ngIf="despesa.status === 'pago'" class="pago" name="checkmark-circle"></ion-icon>
              <ion-icon *ngIf="despesa.status === 'pendente'" class="pendente" name="alert-circle"></ion-icon>
            </div>
          </div>
        </div>
      </div> -->


      <div class="despesa-item" (click)="toggleSheet()">
        <div class="despesa-info">
          <div class="esquerda">
            <fa-icon  [icon]="faBus" class="icon"></fa-icon>

            <div>
              <h4>descricao</h4>
              <p class="banco" >Nubas</p>
              <!-- <p class="banco" *ngIf="despesa.cartao_id">{{ getAccountNameById(despesa.conta_id) }}</p>   -->
            </div>
          </div>
          <div class="direita">
            <h5> $ 500 </h5>
            <div class="details">
              <ion-icon  class="cartao" name="card"></ion-icon>
              <ion-icon  class="pago" name="checkmark-circle"></ion-icon>
              <!-- <ion-icon class="pendente"  name="alert-circle"></ion-icon> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>


  <div *ngIf="segmentValue === 'receitas'">
    <div class="receitas">
    </div>
  </div>

</ion-content>

<!-- Back and Sheet Elements -->
<div class="back" *ngIf="isSheetVisible" (click)="closeSheet()"></div>

<div class="sheet" [ngClass]="{'sheet-visible': isSheetVisible}">

  <ion-grid>
    <!-- RESUMO -->

    <ion-row class="header-grid">
      <ion-col>
        <ion-icon class="pendente"  name="alert-circle"></ion-icon>
        <ion-label>Pendente</ion-label>
      </ion-col>
      <ion-col>
        <ion-icon class="paga" name="checkmark-circle"></ion-icon>
        <ion-label>Pago</ion-label>
      </ion-col>

      <ion-col>
        <ion-icon class="cartao" name="card"></ion-icon>
        <ion-label>Despesa Cartão</ion-label>
      </ion-col>
    </ion-row>

    <ion-row>
      
      <ion-col></ion-col>
      <ion-col></ion-col>
    </ion-row>

    <ion-row>
      <ion-col></ion-col>
      <ion-col></ion-col>
    </ion-row>

    <ion-row>
      <ion-col></ion-col>
      <ion-col></ion-col>
    </ion-row>
  </ion-grid>
  
</div> 